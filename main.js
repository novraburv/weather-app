"use strict";(self.webpackChunkweather_app=self.webpackChunkweather_app||[]).push([[179],{829:(e,t,n)=>{function a(e,t){var n=t.split(".");return 1===n.length?e[n[0]]:a(e[n.shift()],n.join("."))}function r(){var e=l.querySelector(".search");if(e)e.remove();else{var t=document.createElement("div");t.classList.add("search");var n=document.createElement("i");n.classList.add("search__close","fa-solid","fa-xmark"),n.addEventListener("click",(function(e){return e.currentTarget.parentNode.remove()}));var a=document.createElement("input");a.classList.add("search__input"),a.type="text",a.placeholder="london, gb",a.addEventListener("keypress",u),t.append(a,n),l.append(t)}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e){var t=document.createElement("div");t.classList.add("btn","btn-loc"),t.textContent="".concat(e.name,", ").concat(e.sys.country),t.addEventListener("click",r);var n=document.createElement("main");n.classList.add("main");var o=document.createElement("div");o.classList.add("main__basicInfo");var i=document.createElement("img");i.classList.add("main__icon"),i.src="http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),i.alt="".concat(e.weather[0].main);var s=document.createElement("div");s.classList.add("main__temperature"),s.innerHTML="".concat(Math.round(e.main.temp),"<sup>o</sup>C"),o.append(i,s);var d=document.createElement("div");d.classList.add("main__description"),d.textContent="".concat(e.weather[0].description),n.append(o,d);var u=document.createElement("div");u.classList.add("misc"),[{name:"pressure",api:"main.pressure",unit:"hPa",icon:"gauge"},{name:"humidity",api:"main.humidity",unit:"%",icon:"droplet"},{name:"cloud",api:"clouds.all",unit:"%",icon:"cloud"},{name:"wind",api:"wind.speed",unit:"m/s",icon:"wind"},{name:"wind_degree",api:"wind.deg",unit:"o",icon:"compass"}].forEach((function(r){var o=document.createElement("div");o.classList.add("misc__container");var i=document.createElement("i");i.classList.add("misc__icon","fa-solid","fa-".concat(r.icon));var s=document.createElement("div");s.classList.add("misc__number"),s.textContent=a(e,r.api);var d,m=document.createElement("sup");m.classList.add("misc__sub"),m.textContent=r.unit,s.append(m),o.append(i,s),u.append(o),l.children&&(d=l.children,function(e){if(Array.isArray(e))return c(e)}(d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(d)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){return e.remove()})),l.append(t,n,u)}))}n.d(t,{l:()=>l,q:()=>m});var i="068468bc8c92d24ab204f7acffd62861",s="https://api.openweathermap.org/data/2.5/weather",d="metric";function u(e){if("Enter"===e.code&&e.currentTarget.value){var t=e.currentTarget.value;e.currentTarget.value="",e.currentTarget.parentNode.remove(),fetch("".concat(s,"?q=").concat(t,"&appid=").concat(i,"&units=").concat(d)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then(o).catch(m)}}var l=document.querySelector("#app");!function(){var e=document.createElement("div");e.classList.add("loading");var t=document.createElement("i");t.classList.add("loading__icon","fa-solid","fa-spinner"),e.append(t),l.append(e)}();try{if(!navigator.geolocation)throw new Error("Your browser doesn't support geolocation.");navigator.geolocation.getCurrentPosition((function(e){var t,n,a;n=(t=e).coords.latitude,a=t.coords.longitude,fetch("".concat(s,"?lat=").concat(n,"&lon=").concat(a,"&appid=").concat(i,"&units=").concat(d)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then(o).catch(m)}),m)}catch(e){m(e.message)}function m(e){console.error(e)}}},e=>{e(e.s=829)}]);